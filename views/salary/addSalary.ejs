<div class="d-flex justify-content-between flex-wrap flex-md nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
  <h1 class="h2">Add Salary</h1>
</div>

<!-- Breadcrumb navigation -->
<div class="col py-3">
  <nav aria-label="breadcrumb">
      <ol class="breadcrumb">
          <li class="breadcrumb-item"><a href="/">Dashboard</a></li>
          <li class="breadcrumb-item active">Add Salary</li>
      </ol>
  </nav>
</div>

<form id="salaryForm" action="/addSalary" method="POST">
  <div class="row form-group mb-4">
      <div class="col">
          <label for="employeeName">Employee Name</label>
          <select class="form-control" id="employeeName" name="employeeName"> 
              <option value="">Select Employee</option>
              <!-- Loop through customers to populate employee options -->
              <% customers.forEach(customer => { %>
                  <option value="<%= customer.firstName %> <%= customer.lastName %>"><%= customer.firstName %> <%= customer.lastName %> - <%= customer.department %></option> <!-- Update option value to employee name -->
              <% }) %>
          </select>
      </div>
  </div>

  <!-- Payslip details -->

  <div class="row form-group mb-4">
    <div class="col">
      <label for="tin">TIN No.</label>
      <input type="text" class="form-control" id="tin" name="tin" placeholder="Enter TIN No." required>
    </div>
    <div class="col">
      <label for="sss">SSS No.</label>
      <input type="text" class="form-control" id="sss" name="sss" placeholder="Enter SSS No." required>
    </div>
  </div>

  <div class="row form-group mb-4">
    <div class="col">
      <label for="philhealth">PHILHEALTH No.</label>
      <input type="text" class="form-control" id="philhealth" name="philhealth" placeholder="Enter PHILHEALTH No." required>
    </div>
    <div class="col">
      <label for="hdmf">HDMF No.</label>
      <input type="text" class="form-control" id="hdmf" name="hdmf" placeholder="Enter HDMF No." required>
    </div>
  </div>

  <div class="row form-group mb-4">
    <div class="col">
      <label for="basicPay">Basic Pay</label>
      <input type="number" class="form-control" id="basicPay" name="basicPay" placeholder="Enter Basic Pay" required>
    </div>
    <div class="col">
      <label for="nightDiff">Night Differential</label>
      <input type="number" class="form-control" id="nightDiff" name="nightDiff" placeholder="Enter Night Differential" required>
    </div>
  </div>

  <div class="row form-group mb-4">
    <div class="col">
      <label for="overtimePay">Overtime Pay</label>
      <input type="number" class="form-control" id="overtimePay" name="overtimePay" placeholder="Enter Overtime Pay" required>
    </div>
    <div class="col">
      <label for="holidayPay">Holiday Pay</label>
      <input type="number" class="form-control" id="holidayPay" name="holidayPay" placeholder="Enter Holiday Pay" required>
    </div>
  </div>

  <div class="row form-group mb-4">
    <div class="col">
      <label for="internetAllowance">Internet Allowance</label>
      <input type="number" class="form-control" id="internetAllowance" name="internetAllowance" placeholder="Enter Internet Allowance" required>
    </div>
    <div class="col">
      <label for="otherBonuses">Other Bonuses</label>
      <input type="number" class="form-control" id="otherBonuses" name="otherBonuses" placeholder="Enter Other Bonuses" required>
    </div>
  </div>

  <div class="row form-group mb-4">
    <div class="col">
      <label for="attendanceIncentive">Attendance Incentive</label>
      <input type="number" class="form-control" id="attendanceIncentive" name="attendanceIncentive" placeholder="Enter Attendance Incentive" required>
    </div>
    <div class="col">
      <label for="totalCompensation">Total Compensation</label>
      <input type="number" class="form-control" id="totalCompensation" name="totalCompensation" placeholder="Enter Total Compensation" required>
    </div>
  </div>

  <div class="row form-group mb-4">
    <div class="col">
      <label for="totalNetPay">Total Net Pay</label>
      <input type="number" class="form-control" id="totalNetPay" name="totalNetPay" placeholder="Enter Total Net Pay" required>
    </div>
    <div class="col">
      <label for="hoursWorked">Hours Worked</label>
      <input type="number" class="form-control" id="hoursWorked" name="hoursWorked" placeholder="Enter Hours Worked" required>
    </div>
  </div>

  <div class="row form-group mb-4">
    <div class="col">
      <label for="regularOvertime">Regular Overtime</label>
      <input type="number" class="form-control" id="regularOvertime" name="regularOvertime" placeholder="Enter Regular Overtime" required>
    </div>
    <div class="col">
      <label for="regularHoliday">Regular Holiday</label>
      <input type="number" class="form-control" id="regularHoliday" name="regularHoliday" placeholder="Enter Regular Holiday" required>
    </div>
  </div>

  <div class="row form-group mb-4">
    <div class="col">
        <label for="numberOfWorkingDays">Number of Working Days</label>
        <input type="number" class="form-control" id="numberOfWorkingDays" name="numberOfWorkingDays" placeholder="Enter Number of Working Days" required>
    </div>
  </div>

  <div class="row form-group mb-4">
    <div class="col">
      <label for="specialNonWorkingDay">Special Non-Working Day</label>
      <input type="number" class="form-control" id="specialNonWorkingDay" name="specialNonWorkingDay" placeholder="Enter Special Non-Working Day" required>
    </div>
    <div class="col">
      <label for="holidayOvertime">Holiday Overtime</label>
      <input type="number" class="form-control" id="holidayOvertime" name="holidayOvertime" placeholder="Enter Holiday Overtime" required>
    </div>
  </div>

  <div class="row form-group mb-4">
    <div class="col">
      <label for="serviceIncentiveLeaveCredit">Service Incentive Leave Credit</label>
      <input type="number" class="form-control" id="serviceIncentiveLeaveCredit" name="serviceIncentiveLeaveCredit" placeholder="Enter Service Incentive Leave Credit" required>
    </div>
    <div class="col">
      <label for="grossPayRate">Gross Pay Rate</label>
      <input type="number" class="form-control" id="grossPayRate" name="grossPayRate" placeholder="Enter Gross Pay Rate" required>
    </div>
  </div>

  <div class="row form-group mb-4">
    <div class="col">
      <label for="grossRatePerHour">Gross Rate per Hour</label>
      <input type="number" class="form-control" id="grossRatePerHour" name="grossRatePerHour" placeholder="Enter Gross Rate per Hour" required>
    </div>
    <div class="col">
      <label for="grossSalaryDollars">Gross Salary Dollars</label>
      <input type="number" class="form-control" id="grossSalaryDollars" name="grossSalaryDollars" placeholder="Enter Gross Salary Dollars" required>
    </div>
  </div>

  <div class="row form-group mb-4">
    <div class="col">
      <label for="grossSalaryPesos">Gross Salary Pesos</label>
      <input type="number" class="form-control" id="grossSalaryPesos" name="grossSalaryPesos" placeholder="Enter Gross Salary Pesos" required>
    </div>
    <div class="col">
      <label for="internetAllowanceBonuses">Internet Allowance and Bonuses</label>
      <input type="number" class="form-control" id="internetAllowanceBonuses" name="internetAllowanceBonuses" placeholder="Enter Internet Allowance and Bonuses" required>
    </div>
  </div>

  <div class="row form-group mb-4">
    <div class="col">
      <label for="totalGrossCompensation">Total Gross Compensation</label>
      <input type="number" class="form-control" id="totalGrossCompensation" name="totalGrossCompensation" placeholder="Enter Total Gross Compensation" required>
    </div>
    <div class="col">
      <label for="yearToDateCompensation">Year To Date Compensation</label>
      <input type="number" class="form-control" id="yearToDateCompensation" name="yearToDateCompensation" placeholder="Enter Year To Date Compensation" required>
    </div>
  </div>

  <div class="row form-group mb-4">
    <div class="col">
      <label for="yearToDateDeductions">Year To Date Deductions</label>
      <input type="number" class="form-control" id="yearToDateDeductions" name="yearToDateDeductions" placeholder="Enter Year To Date Deductions" required>
    </div>
    <div class="col">
      <label for="yearToDateGrossPay">Year To Date Gross Pay</label>
      <input type="number" class="form-control" id="yearToDateGrossPay" name="yearToDateGrossPay" placeholder="Enter Year To Date Gross Pay" required>
    </div>
  </div>

  <div class="row form-group mb-4">
    <div class="col">
      <label for="yearToDateNetPay">Year To Date Net Pay</label>
      <input type="number" class="form-control" id="yearToDateNetPay" name="yearToDateNetPay" placeholder="Enter Year To Date Net Pay" required>
    </div>
  </div>

  <label>Total Compensation:</label>
  <span id="totalCompensation">0</span>

  <label>Total Deductions:</label>
  <span id="totalDeductions">0</span>

  <label>Net Pay:</label>
  <span id="netPay">0</span>

  <div class="form-group mb-4">
    <button type="submit" class="btn btn-primary" id="addSalaryBtn">Add Salary</button>
  </div>
</form>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    const compensationInputs = document.querySelectorAll('.compensation-input');
    const deductionInputs = document.querySelectorAll('.deduction-input');
  
    compensationInputs.forEach(input => input.addEventListener('input', updateTotals));
    deductionInputs.forEach(input => input.addEventListener('input', updateTotals));
  
    function updateTotals() {
      let totalCompensation = 0;
      let totalDeductions = 0;
  
      compensationInputs.forEach(input => {
        totalCompensation += Number(input.value) || 0;
      });
  
      deductionInputs.forEach(input => {
        totalDeductions += Number(input.value) || 0;
      });
  
      document.getElementById('totalCompensation').textContent = totalCompensation.toFixed(2);
      document.getElementById('totalDeductions').textContent = totalDeductions.toFixed(2);
      document.getElementById('netPay').textContent = (totalCompensation - totalDeductions).toFixed(2);
    }
  });
  </script>
  